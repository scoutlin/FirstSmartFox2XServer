package my.test;

import com.smartfoxserver.v2.entities.User;
import com.smartfoxserver.v2.entities.data.ISFSObject;
import com.smartfoxserver.v2.entities.data.SFSObject;
import com.smartfoxserver.v2.extensions.BaseClientRequestHandler;

public class UserMsgHandler extends BaseClientRequestHandler {

	private static String allMsg;
	
	@Override
	public void handleClientRequest(User player, ISFSObject arg1) {
		// TODO Auto-generated method stub

		String userMsg = arg1.getUtfString("UserMsg");
		
		this.allMsg += userMsg + "\n";
		
		ISFSObject mISFSObject = new SFSObject();
		
		mISFSObject.putUtfString("UserMsg", player.getName() + ": " + allMsg);
		
		MyExtension myExtension = (MyExtension)getParentExtension();
		myExtension.send("UserMsg", mISFSObject, player);
		trace("From Client: " + userMsg);
	}

}
